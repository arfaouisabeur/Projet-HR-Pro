<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<VBox xmlns="http://javafx.com/javafx/25"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="edu.RhPro.controllers.rh.SalairesManageController"
      spacing="14"
      style="-fx-background-color: transparent;">

    <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-padding: 4 2 0 2;">
        <VBox spacing="2">
            <Label text="Gestion des salaires"
                   style="-fx-font-size: 22px; -fx-font-weight: 900; -fx-text-fill: #111827;"/>
            <Label text="Workflow + filtres + modification"
                   style="-fx-font-size: 12px; -fx-text-fill: #6b7280;"/>
        </VBox>
        <Region HBox.hgrow="ALWAYS"/>
        <Label fx:id="msgLabel" text=""
               style="-fx-text-fill:#6b7280; -fx-font-weight: 900; -fx-background-color:#f3f4f6;
                      -fx-background-radius: 999; -fx-padding: 6 10;"/>
    </HBox>

    <HBox spacing="14" VBox.vgrow="ALWAYS">

        <!-- Form Card -->
        <VBox spacing="10" prefWidth="420" VBox.vgrow="ALWAYS"
              style="-fx-background-color: white; -fx-background-radius: 18;
                     -fx-border-color: #ececf5; -fx-border-radius: 18;
                     -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.10), 18, 0.15, 0, 6);">
            <padding>
                <Insets top="14" right="14" bottom="14" left="14"/>
            </padding>

            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label text="Ajouter un salaire"
                       style="-fx-font-weight: 900; -fx-font-size: 14px; -fx-text-fill:#111827;"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Label text="ðŸ’°"
                       style="-fx-background-color:#ede9fe; -fx-text-fill:#5b21b6; -fx-font-weight:900;
                              -fx-background-radius: 999; -fx-padding: 6 10;"/>
            </HBox>

            <VBox spacing="6">
                <Label text="EmployÃ© ID" style="-fx-text-fill:#374151; -fx-font-weight:700;"/>
                <TextField fx:id="tfEmployeId" promptText="ex: 12"
                           style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color:#e5e7eb; -fx-padding: 8 10;"/>
            </VBox>

            <HBox spacing="10">
                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <Label text="Mois" style="-fx-text-fill:#374151; -fx-font-weight:700;"/>
                    <ComboBox fx:id="cbMois" prefWidth="180"
                              style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color:#e5e7eb;"/>
                </VBox>

                <VBox spacing="6" HBox.hgrow="ALWAYS">
                    <Label text="AnnÃ©e" style="-fx-text-fill:#374151; -fx-font-weight:700;"/>
                    <TextField fx:id="tfAnnee" promptText="2026" prefWidth="180"
                               style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color:#e5e7eb; -fx-padding: 8 10;"/>
                </VBox>
            </HBox>

            <VBox spacing="6">
                <Label text="Montant" style="-fx-text-fill:#374151; -fx-font-weight:700;"/>
                <TextField fx:id="tfMontant" promptText="ex: 2500.00"
                           style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color:#e5e7eb; -fx-padding: 8 10;"/>
            </VBox>

            <VBox spacing="6">
                <Label text="Date paiement (optionnel)" style="-fx-text-fill:#374151; -fx-font-weight:700;"/>
                <DatePicker fx:id="dpPaiement"
                            style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color:#e5e7eb; -fx-padding: 4 6;"/>
            </VBox>

            <VBox spacing="6">
                <Label text="Statut" style="-fx-text-fill:#374151; -fx-font-weight:700;"/>
                <ComboBox fx:id="cbStatut"
                          style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color:#e5e7eb;"/>
            </VBox>

            <HBox spacing="10" alignment="CENTER_LEFT">
                <Button text="âž• Ajouter" onAction="#onAdd"
                        style="-fx-background-color:#6d28d9; -fx-text-fill:white; -fx-background-radius:12;
                               -fx-padding:10 14; -fx-font-weight:900;"/>

            </HBox>
        </VBox>

        <!-- Table Card -->
        <VBox spacing="10" HBox.hgrow="ALWAYS" VBox.vgrow="ALWAYS"
              style="-fx-background-color: white; -fx-background-radius: 18;
                     -fx-border-color: #ececf5; -fx-border-radius: 18;
                     -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.10), 18, 0.15, 0, 6);">
            <padding>
                <Insets top="14" right="14" bottom="14" left="14"/>
            </padding>

            <HBox alignment="CENTER_LEFT" spacing="10">
                <VBox spacing="2">
                    <Label text="Tous les salaires"
                           style="-fx-font-weight: 900; -fx-font-size: 14px; -fx-text-fill:#111827;"/>
                    <Label text="Filtres + workflow rapide"
                           style="-fx-text-fill:#6b7280; -fx-font-size: 12px;"/>
                </VBox>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="ðŸ”„ RafraÃ®chir" onAction="#refresh"
                        style="-fx-background-color: transparent; -fx-border-color:#d1d5db;
                               -fx-background-radius:12; -fx-border-radius:12;
                               -fx-padding:10 14; -fx-font-weight:900; -fx-text-fill:#111827;"/>
                <Button text="ðŸ—‘ï¸ Supprimer" onAction="#onDelete"
                        style="-fx-background-color:#b91c1c; -fx-text-fill:white; -fx-background-radius:12;
                               -fx-padding:10 14; -fx-font-weight:900;"/>
            </HBox>

            <!-- Summary cards -->
            <HBox spacing="10">
                <VBox style="-fx-background-color:#f9fafb; -fx-background-radius:14; -fx-padding:10;" HBox.hgrow="ALWAYS">
                    <Label text="EN_ATTENTE" style="-fx-text-fill:#6b7280; -fx-font-size:11px;"/>
                    <Label fx:id="lblSalEnAttente" text="0" style="-fx-font-weight:900; -fx-font-size:18px;"/>
                </VBox>
                <VBox style="-fx-background-color:#f9fafb; -fx-background-radius:14; -fx-padding:10;" HBox.hgrow="ALWAYS">
                    <Label text="PAYE" style="-fx-text-fill:#6b7280; -fx-font-size:11px;"/>
                    <Label fx:id="lblSalPaye" text="0" style="-fx-font-weight:900; -fx-font-size:18px;"/>
                </VBox>
                <VBox style="-fx-background-color:#f9fafb; -fx-background-radius:14; -fx-padding:10;" HBox.hgrow="ALWAYS">
                    <Label text="PayÃ© ce mois" style="-fx-text-fill:#6b7280; -fx-font-size:11px;"/>
                    <Label fx:id="lblSalPaidThisMonthAmount" text="0.00 $" style="-fx-font-weight:900; -fx-font-size:18px;"/>
                </VBox>
            </HBox>

            <!-- Filters -->
            <HBox spacing="10" alignment="CENTER_LEFT">
                <TextField fx:id="tfFilterEmploye" promptText="EmployÃ© ID"
                           style="-fx-background-radius:10; -fx-border-radius:10; -fx-border-color:#e5e7eb; -fx-padding:8 10;"
                           prefWidth="140"/>
                <ComboBox fx:id="cbFilterMois" promptText="Mois" prefWidth="120"/>
                <TextField fx:id="tfFilterAnnee" promptText="AnnÃ©e" prefWidth="110"
                           style="-fx-background-radius:10; -fx-border-radius:10; -fx-border-color:#e5e7eb; -fx-padding:8 10;"/>
                <ComboBox fx:id="cbFilterStatut" promptText="Statut" prefWidth="150"/>
                <DatePicker fx:id="dpFilterFrom" promptText="Du" prefWidth="160"/>
                <DatePicker fx:id="dpFilterTo" promptText="Au" prefWidth="160"/>
                <Region HBox.hgrow="ALWAYS"/>
                <Button text="âœ– Effacer" onAction="#clearFilters"
                        style="-fx-background-color: transparent; -fx-border-color:#d1d5db;
                               -fx-background-radius:12; -fx-border-radius:12;
                               -fx-padding:10 14; -fx-font-weight:900; -fx-text-fill:#111827;"/>
            </HBox>

            <!-- Workflow actions -->
            <HBox spacing="10" alignment="CENTER_LEFT">
                <Button text="âœ… Valider" onAction="#onValidateSelected"
                        style="-fx-background-color: #10b981; -fx-text-fill:white; -fx-background-radius:12;
                               -fx-padding:10 14; -fx-font-weight:900;"/>
                <Button text="ðŸ’¸ Marquer payÃ©" onAction="#onMarkPaidSelected"
                        style="-fx-background-color: #2563eb; -fx-text-fill:white; -fx-background-radius:12;
                               -fx-padding:10 14; -fx-font-weight:900;"/>
                <Button text="ðŸš« Annuler" onAction="#onCancelSelected"
                        style="-fx-background-color: #f59e0b; -fx-text-fill:white; -fx-background-radius:12;
                               -fx-padding:10 14; -fx-font-weight:900;"/>
                <Label text="Workflow sur la ligne sÃ©lectionnÃ©e"
                       style="-fx-text-fill:#9ca3af; -fx-font-size: 11px;"/>
            </HBox>

            <TableView fx:id="table" prefHeight="520" VBox.vgrow="ALWAYS"
                       style="-fx-background-color: transparent; -fx-background-insets: 0;
                              -fx-border-color: #e5e7eb; -fx-border-radius: 14; -fx-background-radius: 14;">
                <columns>
                    <TableColumn fx:id="colId" text="ID" prefWidth="70"/>
                    <TableColumn fx:id="colEmploye" text="EmployÃ© ID" prefWidth="120"/>
                    <TableColumn fx:id="colMois" text="Mois" prefWidth="90"/>
                    <TableColumn fx:id="colAnnee" text="AnnÃ©e" prefWidth="90"/>
                    <TableColumn fx:id="colMontant" text="Montant" prefWidth="140"/>
                    <TableColumn fx:id="colDate" text="Paiement" prefWidth="130"/>
                    <TableColumn fx:id="colStatut" text="Statut" prefWidth="130"/>
                </columns>
            </TableView>

            <HBox spacing="10" alignment="CENTER_LEFT" style="-fx-padding: 2 2 0 2;">
                <Label text="â„¹"
                       style="-fx-background-color:#f3f4f6; -fx-text-fill:#111827; -fx-font-weight:900;
                              -fx-background-radius: 999; -fx-padding: 6 10;"/>
                <Label text="Double-clic sur une ligne pour modifier"
                       style="-fx-text-fill:#9ca3af; -fx-font-size: 11px;"/>
            </HBox>

        </VBox>

    </HBox>

</VBox>
